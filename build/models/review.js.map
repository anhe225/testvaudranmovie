{"version":3,"sources":["../../server/models/review.js"],"names":["mongoose","require","Schema","ReviewSchema","movie","type","Types","ObjectId","ref","likes","Number","default","content","String","statics","like","id","Review","model","findById","then","review","save"],"mappings":";;AAAA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,SAASF,SAASE,MAAxB;;AAEA,IAAMC,eAAe,IAAID,MAAJ,CAAW;AAC9BE,SAAO;AACLC,UAAMH,OAAOI,KAAP,CAAaC,QADd;AAELC,SAAK;AAFA,GADuB;AAK9BC,SAAO,EAAEJ,MAAMK,MAAR,EAAgBC,SAAS,CAAzB,EALuB;AAM9BC,WAAS,EAAEP,MAAMQ,MAAR;AANqB,CAAX,CAArB;;AASAV,aAAaW,OAAb,CAAqBC,IAArB,GAA4B,UAASC,EAAT,EAAa;AACvC,MAAMC,SAASjB,SAASkB,KAAT,CAAe,QAAf,CAAf;;AAEA,SAAOD,OAAOE,QAAP,CAAgBH,EAAhB,EACJI,IADI,CACC,kBAAU;AACd,MAAEC,OAAOZ,KAAT;AACA,WAAOY,OAAOC,IAAP,EAAP;AACD,GAJI,CAAP;AAKD,CARD;;AAUAtB,SAASkB,KAAT,CAAe,QAAf,EAAyBf,YAAzB","file":"review.js","sourcesContent":["const mongoose = require('mongoose');\r\nconst Schema = mongoose.Schema;\r\n\r\nconst ReviewSchema = new Schema({\r\n  movie: {\r\n    type: Schema.Types.ObjectId,\r\n    ref: 'movie'\r\n  },\r\n  likes: { type: Number, default: 0 },\r\n  content: { type: String }\r\n});\r\n\r\nReviewSchema.statics.like = function(id) {\r\n  const Review = mongoose.model('review');\r\n\r\n  return Review.findById(id)\r\n    .then(review => {\r\n      ++review.likes;\r\n      return review.save();\r\n    })\r\n}\r\n\r\nmongoose.model('review', ReviewSchema);\r\n"]}