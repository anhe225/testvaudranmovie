{"version":3,"sources":["../server/server.js"],"names":["express","require","models","expressGraphQL","mongoose","bodyParser","schema","app","MONGO_URI","Error","Promise","global","connect","useMongoClient","connection","once","console","log","on","error","use","json","graphiql","webpackMiddleware","webpack","webpackConfig","module","exports"],"mappings":";;AAAA,IAAMA,UAAUC,QAAQ,SAAR,CAAhB;AACA,IAAMC,SAASD,QAAQ,UAAR,CAAf;AACA,IAAME,iBAAiBF,QAAQ,iBAAR,CAAvB;AACA,IAAMG,WAAWH,QAAQ,UAAR,CAAjB;AACA,IAAMI,aAAaJ,QAAQ,aAAR,CAAnB;AACA,IAAMK,SAASL,QAAQ,iBAAR,CAAf;;AAGA,IAAMM,MAAMP,SAAZ;;AAEA;AACA,IAAMQ,YAAY,gEAAlB;AACA,IAAI,CAACA,SAAL,EAAgB;AACd,QAAM,IAAIC,KAAJ,CAAU,iCAAV,CAAN;AACD;;AAEDL,SAASM,OAAT,GAAmBC,OAAOD,OAA1B;AACAN,SAASQ,OAAT,CAAiBJ,SAAjB,EACA;AACEK,kBAAe;AADjB,CADA;AAIAT,SAASU,UAAT,CACKC,IADL,CACU,MADV,EACkB;AAAA,SAAMC,QAAQC,GAAR,CAAY,qBAAZ,CAAN;AAAA,CADlB,EAEKC,EAFL,CAEQ,OAFR,EAEiB;AAAA,SAASF,QAAQC,GAAR,CAAY,iCAAZ,EAA+CE,KAA/C,CAAT;AAAA,CAFjB;;AAIAZ,IAAIa,GAAJ,CAAQf,WAAWgB,IAAX,EAAR;AACAd,IAAIa,GAAJ,CAAQ,UAAR,EAAoBjB,eAAe;AACjCG,gBADiC;AAEjCgB,YAAU;AAFuB,CAAf,CAApB;;AAKA,IAAMC,oBAAoBtB,QAAQ,wBAAR,CAA1B;AACA,IAAMuB,UAAUvB,QAAQ,SAAR,CAAhB;AACA,IAAMwB,gBAAgBxB,QAAQ,sBAAR,CAAtB;AACAM,IAAIa,GAAJ,CAAQG,kBAAkBC,QAAQC,aAAR,CAAlB,CAAR;;AAIAC,OAAOC,OAAP,GAAiBpB,GAAjB","file":"server.js","sourcesContent":["const express = require('express');\r\nconst models = require('./models');\r\nconst expressGraphQL = require('express-graphql');\r\nconst mongoose = require('mongoose');\r\nconst bodyParser = require('body-parser');\r\nconst schema = require('./schema/schema');\r\n\r\n\r\nconst app = express();\r\n\r\n// Remplacer avec ton url mlab\r\nconst MONGO_URI = 'mongodb://vaudranpc:vaudran89@ds159641.mlab.com:59641/dbpascal';\r\nif (!MONGO_URI) {\r\n  throw new Error('Tu dois fournir une url mongoDB');\r\n}\r\n\r\nmongoose.Promise = global.Promise;\r\nmongoose.connect(MONGO_URI, \r\n{\r\n  useMongoClient:true\r\n});\r\nmongoose.connection\r\n    .once('open', () => console.log('Connecté à MongoLab'))\r\n    .on('error', error => console.log('Erreur de connexion à MongoLab:', error));\r\n\r\napp.use(bodyParser.json());\r\napp.use('/graphql', expressGraphQL({\r\n  schema,\r\n  graphiql: true,\r\n}));\r\n\r\nconst webpackMiddleware = require('webpack-dev-middleware');\r\nconst webpack = require('webpack');\r\nconst webpackConfig = require('../webpack.config.js');\r\napp.use(webpackMiddleware(webpack(webpackConfig)));\r\n\r\n\r\n\r\nmodule.exports = app;\r\n"]}